Transaction script domain logic pattern implementation